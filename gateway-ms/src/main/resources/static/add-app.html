<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Add App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="glass-card" style="width: 520px;">
    <h1 class="title">Add New App</h1>

    <input id="name" class="input" placeholder="App Name">
    <input id="category" class="input" placeholder="Category">
    <input id="price" class="input" placeholder="Price">

    <button class="btn-primary" onclick="addApp()">Add App</button>
    <button class="btn-secondary" onclick="location.href='owner-dashboard.html'">Back</button>
</div>

<script>
async function addApp() {
    const token = localStorage.getItem("ownerToken");

    const data = {
        name: document.getElementById("name").value,
        category: document.getElementById("category").value,
        price: document.getElementById("price").value
    };

    await fetch("http://localhost:8082/app/add", {
        method: "POST",
        headers: { 
            "Content-Type": "application/json",
            "Authorization": token
        },
        body: JSON.stringify(data)
    });

    alert("App Added Successfully!");
    window.location.href = "owner-dashboard.html";
}
</script>

</body>
</html>
